<template name="groupDevices">
  <div class="head">
    <div class="leftButton back">
        <i class="fa fa-angle-left fa-fw"></i>
    </div>
    <strong>设备列表</strong>
  </div>
  <div class="content" style="min-height:%;padding-top: 40px;overflow:hidden">
    <!-- <div class="line" style="height: 20px; text-align:left; padding-left:10px; color:#555;"></div> -->
    <ul id="deviceList" class="set-up comFadeIn">
        <li style="padding-left: 0px;color: #54adf3;"><b>升级状态</b></li>
    {{#each lists}}
      {{#if uuid}}
      <li id="" class="deviceItem swiperElem" style="height:60px;padding:10px 0;position:relative">
        <div>
          <!-- <span class="goEdit"> -->
          <img class="usericon" src="/device.png" width="40" height="40" style="border-radius:4px;">
          <!-- {{#if isEditing uuid}} -->
            <!-- {{#if name}}
            <input class="edit" value="{{name}}">
            {{else}}
            <input class="edit" value="未知设备">
            {{/if}} -->
          <!-- {{else}} -->
            {{#if name}}
            <span class="name" style="{{isShow uuid 1}}">{{name}}</span>
            <input class="edit" id="{{getId uuid}}" style="{{isShow uuid 2}}" value="{{name}}">
            {{else}}
            <span class="name" style="{{isShow uuid 1}}">未知设备</span>
            <input class="edit" id="{{getId uuid}}" style="{{isShow uuid 2}}" value="未知设备">
            {{/if}}
          <!-- {{/if}} -->
          <!-- </span> -->

          <!-- <div id="{{uuid}}" class="value goTimelime" style="float:right; margin:10px;">{{in_out}}<i class="fa fa-angle-right"></i></div> -->
          <div id="{{_id}}" class="delBtnContent" data-uuid="{{uuid}}">删除</div>
          <!-- <button class="automatic_update">自动更新</button> -->
          <div class="value-fa">
                <input id="switch_update" class="switch" style="margin-top:-6px; outline:none;" type="checkbox" {{isChecked autoUpdate}}>
           </div>
        </div>
      </li>
      {{/if}}
    {{/each}}
  </ul>
  </div>
  <script>
      $(function () {
          touch.on('body', 'swipeup swipedown', function (ev) {
              console.log("swipe: ", ev.type);
              $('.swiperElem').animate({ left: '0px' }, 100);
          });
          touch.live('#deviceList', 'swipeup swipedown', '.swiperElem', function (ev) {
              $('.swiperElem').animate({ left: '0px' }, 100);
          });
          touch.live('#deviceList', 'swipeleft swipeing', '.swiperElem', function (ev) {
              $('.swiperElem').animate({ left: '0px' }, 100);
              var x = ev.x;
              if (x < -40) {
                  x = -100;
              } else {
                  x = 0;
              }
              console.log($(ev.target))
              $(ev.target).parents('.swiperElem').animate({ left: x + 'px' }, 100);
          });
          touch.live('#deviceList', 'swiperight swipeing', '.swiperElem', function (ev) {
              $(ev.target).parents('.swiperElem').animate({ left: '0px' }, 100);
          });
        })
    </script>
</template>

<template name="setDevicename">
  <div class="setGroupname comFadeIn">
      <div class="head" style="position: fixed;">
          <div class="title" style="position:relative;">
              <div class="left-btn">取消</div>
              <span class="Contacts">设备名</span>
              <div class="right-btn">保存</div>
          </div>
      </div>
  </div>
  <ul class="set-up comFadeIn" style="position: fixed; top:60px; left:0; right:0;">
      <li>
          <div class="input">
              <form class="setGroupname-form">
                  <input class="text" type="text" id="text" placeholder="请输入设备名" value="{{name}}" style="color: black;" />
              </form>
          </div>
      </li>
  </ul>
</template>
