<template name="user">
  <div class="user">
    <div class="head">
      <div id="follow" class="leftButton">
          <span class="fa fa-plus"></span><i class="fa fa-user"></i>
      </div>
      <div>{{_ "mySelf"}}</div>
      <div id="setting" class="rightButton"><i class="fa fa-cog"></i></div>
    </div>
    <div class="top">
      <div class="searchForm">
          <i class="fa fa-search"></i>
          <label><input id="search-box" type="text" placeholder={{_ "searchMyPosts"}}></label>
      </div>
      <div class="icon">
        {{#if myProfileIcon}}
          <img src="{{myProfileIcon}}" width='80' height='80'>
        {{else}}
          <i class="fa fa-camera"></i>{{_ "uploadFigure"}}
        {{/if}}
      </div>
        <span class="userName">{{myProfileName}}</span>
    </div>
    <div class="line">
      <span></span>
    </div>
    <div class="follow">
      <div class="follower">{{followers}} {{_ "followers"}}</div>
      <div class="vertical">
        <span></span>
      </div>
      <div class="following">{{_ "following"}} {{followCount}} {{_ "ppl"}}</div>
    </div>
    <div class="line">
      <span></span>
    </div>
    {{#if isLoading}}
    <div id="loader">
        <div align="center">{{_ "loading"}}</div>
    </div>
    {{/if}}
      <!--
      <div class="good">
        <div class="praise">0 个赞</div>
        <div class="dot">&#8226;</div>
        <div class="forward">0 次转发</div>
      </div>
      -->
    <div class="draft">
      {{#if compareDraftsCount 0}}
        <div class="draftLeft">{{draftsCount}}{{_ "draft"}}</div>
      {{/if}}
      {{#if compareDraftsCount 2}}
        <div class="draftRight">{{_ "checkAll"}}></div>
      {{/if}}
    </div>
    {{#if compareDraftsCount 0}}
    <div class="draftImages">
        <ul>
            {{#each items}}
                <li id="{{_id}}" style="background-image:url({{getmainImage}})">
                    <h4 class="title" style="text-overflow:ellipsis; white-space:nowrap; overflow:hidden;">
                        {{title}}
                    </h4>
                    <h6 class="addontitle" style="text-overflow:ellipsis; white-space:nowrap; overflow:hidden;">
                        {{addontitle}}
                    </h6>
                </li>
            {{/each}}
        </ul>
    </div>
    {{/if}}
    <div class="post">
      {{#if comparePostsCount 0}}
        <div class="postLeft">{{postsCount}}{{_ "numOfStory"}}</div>
      {{/if}}
      {{#if comparePostsCount 0}}
        <div class="postRight">{{_ "checkAll"}}></div>
      {{/if}}
    </div>
    {{#if comparePostsCount 0}}
    <div class="postImages">
        <ul>
                {{#each postItems}}
                <li id="{{_id}}" style="background-image:url({{mainImage}})">
                    <h4 class="title" style="text-overflow:ellipsis; white-space:nowrap; overflow:hidden;">
                        {{title}}
                    </h4>
                    <h6 class="addontitle" style="text-overflow:ellipsis; white-space:nowrap; overflow:hidden;">
                        {{addontitle}}
                    </h6>
                </li>
            {{/each}}
        </ul>
    </div>
    {{/if}}
  </div>
  {{> footer}}
</template>

<template name="searchMyPosts">
  <div class="searchMyPosts">
    <div class="home">
    <div class="content" style="margin: 0;padding: 0;background-color: #111;">
         <table style="margin-top: 10px;">
           <tr>
             <td>
               <div class="searchForm">
                 <i class="fa fa-search"></i>
                   <label><input id="search-box" type="text" placeholder="{{_ 'searchMyPosts'}}"></label>
               </div>
             </td>
             <td style="width: 40px;text-align:center;">
               <div class="back">{{_ "cancel"}}</div>
             </td>
          </tr>
        </table>
<!--        {{#if loading}}
            <div>{{_ "isLoading"}}</div>
        {{/if}}
        {{#if loadError}}
            <div>{{_ "loadFailNotification"}}</div>
        {{/if}}-->
        <div id="wrapper" style="margin-top: 70px; margin-bottom: 50px;">
            <div id="list">
                {{#if noSearchResult}}
                  <center style="color: gray;">查无结果</center>
                {{/if}}
                {{#if searchLoading}}
                  <center style="color: gray;">查找中  <i class="fa fa-spinner fa-pulse"></i></center>
                {{/if}}
                {{#each items}}
                    {{#if showBigImage}}
                         <div  id="{{_id}}" class="mainImage">
                            {{#if mainImage}}
                              {{>padding noRandomBackgroundColor=true}}
                            {{/if}}
                            <img class="scale item lazy" data-original="{{mainImage}}" draggable="false" style="min-height: 100%;position:absolute;{{mainImageStyle}}" >
                            <header>
                                <h1 class="title">{{title}}</h1>
                                <h3 class="addontitle">{{addontitle}}</h3>
                            </header>
                        </div>
                        <div class="footer">
                            <span><img class="icon" src="{{ownerIcon}}" width='25' height='25' style="margin-top: 0px;"></span>
                            <span class="name">{{ownerName}}</span>
                            <span class="right">
                              {{_ "browse"}}{{getBrowseCount browse}}{{_ "times"}}
                            </span>
                        </div> 
                    {{else}}
                            <div id="{{_id}}" class="mainImage" style="font-size:15px;width: 100%;float: left;margin-right: 2%; height: 56px; overflow: hidden;">
                                <dl style='background: grey;padding: 5px; margin-top: 6px;min-height: 50px;margin-bottom: 1px;'>
                                    <dd style="font-size: 18px;overflow: hidden;word-wrap: break-word;white-space: nowrap;text-overflow: ellipsis;">{{title}}</dd>
                                    <dd style="font-size: 15px;overflow: hidden;word-wrap: break-word;white-space: nowrap;text-overflow: ellipsis;color: #ccc">{{addontitle}}</dd>
                                </dl>
                            </div>
                    {{/if}}
                {{/each}}
            </div>
        </div>
<!--        {{#if moreResults}}
        <div id="showMoreMyPostsResults" style="margin-left: 25px;">
            <span class="loading">{{_ "loading"}}</span>
        </div>
        {{/if}}-->
   </div>
  </div>
  </div>
  {{> footer}}
</template>
