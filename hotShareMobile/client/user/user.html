<template name="user">
  <div class="user" id="userPage">
    <div class="head">
    {{#if withQRTips}}
      <div id="scan-qrcode" class="leftButton">
          <div style="height: 48px;margin-left: -10px;margin-top: -10px;padding: 12px 12px;padding-top: 6px;box-sizing: border-box;overflow: hidden;"><img style="height:25px;" src="/scan.png" /></div>
      </div>
    {{else}}
      <div id="follow" class="leftButton">
          <span class="fa fa-plus"></span><i class="fa fa-user"></i>
      </div>
    {{/if}}
      <div>
        <strong>{{_ "mySelf"}}</strong>
      </div>
      <div id="setting" class="rightButton">
        <i class="fa fa-cog"></i>
        {{#if enableSimpleEditor}}
          {{#if showEditorTip}}
          <div class="msg_count" style="width: 8px; height: 8px; top: 5px; position: absolute;right: 10px; background: red; border-radius: 50%;"></div>
          {{/if}}
        {{/if}}
      </div>
    </div>
    <div class="top">
      <div class="searchForm">
          <i class="fa fa-search"></i>
          <label><input id="search-box" type="text" placeholder={{_ "searchMyPosts"}}></label>
      </div>
      <div class="icon">
        {{#if myProfileIcon}}
          <img src="{{myProfileIcon}}" width='80' height='80'>
        {{else}}
          <i class="fa fa-camera"></i>{{_ "uploadFigure"}}
        {{/if}}
      </div>
      <span class="userName">{{myProfileName}}</span>
      <div class="editProfile">编辑个人资料<i class="fa fa-pencil"></i></div>
    </div>
    <div class="line">
      <span></span>
    </div>
    <div class="follow">
      <div class="follower">{{followers}} {{_ "followers"}} ({{_ "emailFollow"}}: {{emailFollowerCount}} | {{_ "appFollow"}}: {{appFollowerCount}})</div>
      <div class="vertical">
        <span></span>
      </div>
      <div class="following">{{_ "following"}} {{followCount}} {{_ "ppl"}}</div>
    </div>
    <div class="line" style="padding-bottom: 0 !important;">
      <span></span>
    </div>
    {{#if showGrayZone draftsCount postsCount}}
    <div style="height: 20px;background: #eee;"></div>
    {{/if}}
    {{#if isLoading}}
    <div id="loader">
        <div align="center">{{_ "loading"}}</div>
    </div>
    {{/if}}
      <!--
      <div class="good">
        <div class="praise">0 个赞</div>
        <div class="dot">&#8226;</div>
        <div class="forward">0 次转发</div>
      </div>
      -->
    <div class="draft">
      {{#if gtZero draftsCount}}
        <div class="draftLeft">{{draftsCount}}{{_ "draft"}}</div>
      {{/if}}
      {{#if gtValue draftsCount 2}}
        <div class="draftRight">{{_ "checkAll"}}></div>
      {{/if}}
    </div>
    {{#if gtZero draftsCount}}
    <div class="draftImages">
        <ul>
            {{#each items}}
                <li id="{{_id}}" style="background-image:url({{getmainImage}})">
                  <div class="css-post-title">
                    <h4 class="title" style="text-overflow:ellipsis; white-space:nowrap; overflow:hidden;">
                        {{title}}
                    </h4>
                    <h6 class="addontitle" style="text-overflow:ellipsis; white-space:nowrap; overflow:hidden;">
                        {{addontitle}}
                    </h6>
                  </div>
                </li>
            {{/each}}
        </ul>
        {{#if gtZero postsCount}}
        <div style="height: 20px; background: #eee;"></div>
        {{/if}}
    </div>
    {{/if}}
    <div class="post">
      {{#if gtZero postsCount}}
        <div class="postLeft">{{postsCount}}{{_ "numOfStory"}}</div>
      {{/if}}
      {{#if gtZero postsCount}}
        <div class="postRight">{{_ "checkAll"}}></div>
      {{/if}}
    </div>
    {{#if gtZero postsCount}}
    <div class="postImages">
        <ul>
                {{#each postItems}}
                <li id="{{_id}}" style="background-image:url({{mainImage}})">
                  <div class="css-post-title">
                    <h4 class="title" style="text-overflow:ellipsis; white-space:nowrap; overflow:hidden;">
                        {{title}}
                    </h4>
                    <h6 class="addontitle" style="text-overflow:ellipsis; white-space:nowrap; overflow:hidden;">
                        {{addontitle}}
                    </h6>
                  </div>
                </li>
            {{/each}}
        </ul>
    </div>
    {{/if}}
  </div>
  {{> footer}}
</template>

<template name="searchMyPosts">
  <div class="searchMyPosts">
    <div class="home">
    <div class="content" style="margin: 0;padding: 0;background-color: #111;">
         <table style="margin-top:6px;">
           <tr>
             <td>
               <div class="searchForm">
                 <i class="fa fa-search"></i>
                   <label><input id="search-box" type="text" placeholder="{{_ 'searchMyPosts'}}"></label>
               </div>
             </td>
             <td style="width: 64px;text-align:center;">
               <div class="back">{{_ "cancel"}}</div>
             </td>
          </tr>
        </table>
        <div id="wrapper" style="margin-top: 70px; margin-bottom: 50px;">
            <div id="list">
              {{#if showSearchStatus}}
                {{#if noSearchResult}}
                  <center style="color: gray;">{{_ "NoSearchResults"}}</center>
                {{/if}}
                {{#if searchLoading}}
                  <center style="color: gray;">{{_ "Searching"}}<i class="fa fa-spinner fa-pulse"></i></center>
                {{/if}}
              {{/if}}
              {{#if showSearchItems}}
                {{#each items}}
                    {{#if showBigImage}}
                         <div  id="{{_id}}" class="mainImage">
                            {{#if mainImage}}
                              {{>padding noRandomBackgroundColor=true}}
                            {{/if}}
                            <img class="scale item lazy" data-original="{{mainImage}}" draggable="false" style="min-height: 100%;position:absolute;{{mainImageStyle}}" >
                            <header>
                                <h1 class="title">{{title}}</h1>
                                <h3 class="addontitle">{{addontitle}}</h3>
                            </header>
                        </div>
                        <div class="footer">
                            <span><img class="icon" src="{{ownerIcon}}" width='25' height='25' style="margin-top: 0px;"></span>
                            <span class="name">{{ownerName}}</span>
                            <span class="right">
                              {{_ "browse"}}{{getBrowseCount browse}}{{_ "times"}}
                            </span>
                        </div> 
                    {{else}}
                            <div id="{{_id}}" class="mainImage" style="font-size:15px;width: 100%;float: left;margin-right: 2%; height: 56px; overflow: hidden;">
                                <dl style='background: grey;padding: 5px; margin-top: 6px;min-height: 50px;margin-bottom: 1px;'>
                                    <dd style="font-size: 18px;overflow: hidden;word-wrap: break-word;white-space: nowrap;text-overflow: ellipsis;">{{title}}</dd>
                                    <dd style="font-size: 15px;overflow: hidden;word-wrap: break-word;white-space: nowrap;text-overflow: ellipsis;color: #ccc">{{addontitle}}</dd>
                                </dl>
                            </div>
                    {{/if}}
                {{/each}}
              {{/if}}
            </div>
        </div>
   </div>
  </div>
  </div>
  {{> footer}}
</template>
